!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.template=n,this.discount=e.discount,this.title=e.title,this.color=e.color,this.age=e.age,this.price=e.price,this.pawCount=e.pawCount,this.count=e.count,this.img=e.img,this.count=e.count}var e,n,o;return e=t,(n=[{key:"createCard",value:function(){return this.container=this.template.cloneNode(!0),this.btn=this.template.querySelector("#button-card"),this.discount<1?this.container.querySelector(".card-item__discount").style.display="none":this.container.querySelector(".card-item__discount").textContent=this.discount,this.container.querySelector(".card-item__img").style.backgroundImage="url(".concat(this.img,")"),this.container.querySelector(".card-item__title").textContent=this.title,this.container.querySelector(".card-item__about-color-text").textContent=this.color,this.container.querySelector(".card-item__about-age-text").textContent="".concat(this.age," мес."),this.container.querySelector(".card-item__about-count-text").textContent=this.pawCount,this.container.querySelector(".card-item__price").textContent="".concat(this.price," руб."),0==this.count?(this.btn.textContent="Продан",this.btn.classList.add("button_disabled")):(this.btn.classList.remove("button_disabled"),this.btn.textContent="купить"),this.setEventListeners(),this.container}},{key:"like",value:function(t){t.target.classList.toggle("button_like-active"),t.target.closest("div").querySelector("#favorite").classList.toggle("card-item__favorit")}},{key:"setEventListeners",value:function(){this.container.querySelector(".button_like").addEventListener("click",this.like)}}])&&i(e.prototype,n),o&&i(e,o),t}();function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e}var e,n,i;return e=t,(n=[{key:"_addCard",value:function(t){this.container.append(t)}},{key:"render",value:function(t){var e=this;t.forEach((function(t){return e._addCard(t)}))}},{key:"remove",value:function(){this.container.innerHTML=""}}])&&r(e.prototype,n),i&&r(e,i),t}(),a=document.querySelector(".template").content,u=document.querySelector(".card-items"),s=document.querySelector(".button_show-more"),l=document.querySelector(".scroll-up"),p=document.querySelector(".button_footer"),d="Это обязательное поле",f="необходим e-mail в формате: email@gmail.com",b=document.querySelector(".footer__email-form"),g=[{discount:"-40%",title:"Кот полосатый ",color:"Серый",age:"2",price:"9000",pawCount:"4",count:"3",img:"https://i.ibb.co/qsMmJkx/Cat-1.png"},{discount:"",title:"Кот полосатый ",color:"Черный",age:"3",price:"20000",pawCount:"4",count:0,img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"-10%",title:"Кот полосатый ",color:"Рыжий",age:"2",price:"50000",pawCount:"4",count:"2",img:"https://i.ibb.co/J7ZcCRk/cat-2.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"24000",pawCount:"4",count:"3",img:"https://i.ibb.co/qsMmJkx/Cat-1.png"},{discount:"-40%",title:"Кот полосатый ",color:"Коричневый",age:"7",price:"30000",pawCount:"4",count:"4",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"-40%",title:"Кот полосатый ",color:"Белый",age:"8",price:"30000",pawCount:"4",count:"0",img:"https://i.ibb.co/J7ZcCRk/cat-2.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"30000",pawCount:"4",count:"10",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"-40%",title:"Кот полосатый ",color:"Коричневый",age:"1",price:"10000",pawCount:"4",count:"3",img:"https://i.ibb.co/qsMmJkx/Cat-1.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"3",price:"30000",pawCount:"4",count:"2",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"6",price:"15000",pawCount:"4",count:"2",img:"https://i.ibb.co/J7ZcCRk/cat-2.png"},{discount:"-10%",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"31000",pawCount:"4",count:"2",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"3",price:" 15000",pawCount:"4",count:"2",img:"https://i.ibb.co/qsMmJkx/Cat-1.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"5",price:"30000",pawCount:"4",count:"2",img:"https://i.ibb.co/J7ZcCRk/cat-2.png"},{discount:"-40%",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"30000",pawCount:"4",count:"2",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"},{discount:"-40%",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"10000",pawCount:"4",count:"2",img:"https://i.ibb.co/J7ZcCRk/cat-2.png"},{discount:"",title:"Кот полосатый ",color:"Красный",age:"2",price:"20000",pawCount:"4",count:"2",img:"https://i.ibb.co/qsMmJkx/Cat-1.png"},{discount:"",title:"Кот полосатый ",color:"Коричневый",age:"2",price:"30000",pawCount:"4",count:"4",img:"https://i.ibb.co/t3ZXTDH/cat-3.png"}];function h(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.form=e,this.button=n,this.span=this.form.querySelector("#input-error"),this.isFieldValid=this.isFieldValid.bind(this)}var e,n,i;return e=t,(n=[{key:"_checkInputValidity",value:function(t){return t.setCustomValidity(""),console.log(this.button),t.validity.valueMissing?(t.setCustomValidity(d),!1):t.validity.typeMismatch&&"email"===t.type?(t.setCustomValidity(f),!1):t.checkValidity()}},{key:"isFieldValid",value:function(t){t.preventDefault();var e=t.target,n=t.currentTarget,i=e.parentNode.querySelector("#input-error"),o=this._checkInputValidity(e);i.textContent=e.validationMessage;var r=n.checkValidity();return this.setSubmitButtonState(r),o}},{key:"resetError",value:function(){h(this.form.querySelectorAll("span.error")).slice(0).forEach((function(t){t.textContent=""}))}},{key:"setSubmitButtonState",value:function(t){t?this.button.classList.remove("button_footer-disabled"):(this.span.style.display="block",this.button.classList.add("button_footer-disabled"))}},{key:"setEventListenersValidation",value:function(){this.form.addEventListener("input",this.isFieldValid)}}])&&y(e.prototype,n),i&&y(e,i),t}();var w=new c(u),C=new v(b,p);q(g);var k=document.querySelector("#selectPrice"),S=document.querySelector("#selectAge");function _(t){return"priceUp"==t&&g.sort((function(t,e){return e.price-t.price})),"priceDown"==t&&g.sort((function(t,e){return t.price-e.price})),"ageUp"==t&&g.sort((function(t,e){return e.age-t.age})),"ageDown"==t&&g.sort((function(t,e){return t.age-e.age})),g}function q(t){var e=t.map((function(t){return new o(t,a).createCard()})).slice(0,6);w.render(e)}k.addEventListener("change",(function(){var t=_(k.value);w.remove(),q(t)})),S.addEventListener("change",(function(){var t=_(S.value);w.remove(),q(t)})),C.setEventListenersValidation(),p.addEventListener("click",(function(){C.resetError(),C.setSubmitButtonState(!1)})),window.addEventListener("scroll",(function(){var t=window.pageYOffset,e=document.documentElement.clientHeight;t>e&&(l.style="display: block"),t<e&&(l.style="display: none")})),l.addEventListener("click",(function t(){window.pageYOffset>0&&(window.scrollBy(0,-23),setTimeout(t,5))})),s.addEventListener("click",(function(t){var e;t.preventDefault(),function(t,e){var n=e.map((function(t){return new o(t,a).createCard()})).slice(0,t);w.remove(),w.render(n),window.count=n.length}((e=window.count,isNaN(e)||0===e?9:e+3),g)}))}]);